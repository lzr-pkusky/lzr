# Assignment #9: å›¾è®ºï¼šéå†ï¼ŒåŠ æ ‘ç®—

Updated 1739 GMT+8 Apr 14, 2024

2024 spring, Complied by ==å¢å“ç„¶ ç”Ÿå‘½ç§‘å­¦å­¦é™¢==



**è¯´æ˜ï¼š**

1ï¼‰è¯·æŠŠæ¯ä¸ªé¢˜ç›®è§£é¢˜æ€è·¯ï¼ˆå¯é€‰ï¼‰ï¼Œæºç Python, æˆ–è€…C++ï¼ˆå·²ç»åœ¨Codeforces/Openjudgeä¸ŠACï¼‰ï¼Œæˆªå›¾ï¼ˆåŒ…å«Acceptedï¼‰ï¼Œå¡«å†™åˆ°ä¸‹é¢ä½œä¸šæ¨¡ç‰ˆä¸­ï¼ˆæ¨èä½¿ç”¨ typora https://typoraio.cn ï¼Œæˆ–è€…ç”¨wordï¼‰ã€‚AC æˆ–è€…æ²¡æœ‰ACï¼Œéƒ½è¯·æ ‡ä¸Šæ¯ä¸ªé¢˜ç›®å¤§è‡´èŠ±è´¹æ—¶é—´ã€‚

2ï¼‰æäº¤æ—¶å€™å…ˆæäº¤pdfæ–‡ä»¶ï¼Œå†æŠŠmdæˆ–è€…docæ–‡ä»¶ä¸Šä¼ åˆ°å³ä¾§â€œä½œä¸šè¯„è®ºâ€ã€‚Canvaséœ€è¦æœ‰åŒå­¦æ¸…æ™°å¤´åƒã€æäº¤æ–‡ä»¶æœ‰pdfã€"ä½œä¸šè¯„è®º"åŒºæœ‰ä¸Šä¼ çš„mdæˆ–è€…docé™„ä»¶ã€‚

3ï¼‰å¦‚æœä¸èƒ½åœ¨æˆªæ­¢å‰æäº¤ä½œä¸šï¼Œè¯·å†™æ˜åŸå› ã€‚



**ç¼–ç¨‹ç¯å¢ƒ**

==ï¼ˆè¯·æ”¹ä¸ºåŒå­¦çš„æ“ä½œç³»ç»Ÿã€ç¼–ç¨‹ç¯å¢ƒç­‰ï¼‰==

æ“ä½œç³»ç»Ÿï¼šmacOS

Pythonç¼–ç¨‹ç¯å¢ƒï¼švscode

C/C++ç¼–ç¨‹ç¯å¢ƒï¼š



## 1. é¢˜ç›®

### 04081: æ ‘çš„è½¬æ¢

http://cs101.openjudge.cn/dsapre/04081/



æ€è·¯ï¼šæ ¹æ®dfsåºåˆ—é€’å½’å»ºæ ‘ï¼Œä½†å¹¶ä¸éœ€è¦æŠŠæ ‘è½¬æ¢ä¸ºå®ä½“äºŒå‰æ ‘ï¼Œå¯ä»¥é€’å½’åœ°æ±‚é«˜åº¦(Height)å’Œè½¬æ¢åé«˜åº¦(NewH)ã€‚



ä»£ç 

```python
class Node:
    def __init__(self):
        self.child = []
    
    def getHeight(self):
        return 1 + max([nd.getHeight() for nd in self.child], default=-1)
    
    def getNewH(self):
        return 1 + max([nd.getNewH() + i for i, nd in enumerate(self.child)], default=-1)

def call():
    res = Node()
    while s and s.pop() == 'd':
        res.child.append(call())
    return res
    
s = list(input())[::-1]
root = call()
print(f"{root.getHeight()} => {root.getNewH()}")
```



ä»£ç è¿è¡Œæˆªå›¾ ==ï¼ˆè‡³å°‘åŒ…å«æœ‰"Accepted"ï¼‰==

![image-20240423224715213](/Users/luzhuoran/Desktop/æ•°ç®—/ä½œä¸š/9/image-20240423224715213-3883639.png)

### 08581: æ‰©å±•äºŒå‰æ ‘

http://cs101.openjudge.cn/dsapre/08581/



æ€è·¯ï¼š

1. `Node` ç±»ï¼š
   - `__init__` æ–¹æ³•åˆå§‹åŒ–ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒåŒ…å«ä¸€ä¸ªåå­— (`name`) å’Œå­èŠ‚ç‚¹åˆ—è¡¨ (`child`)ã€‚
2. `getSeq` å‡½æ•°ï¼š
   - è¿™æ˜¯ä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œå®ƒéå†æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ã€‚
   - å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå®ƒä¼šé€’å½’åœ°è°ƒç”¨è‡ªèº«æ¥è·å–å­èŠ‚ç‚¹çš„åºåˆ—ã€‚
   - ç„¶åï¼Œå®ƒä¼šåœ¨æŒ‡å®šä½ç½® (`pos`) æ’å…¥å½“å‰èŠ‚ç‚¹çš„åå­—ã€‚
   - æœ€ç»ˆï¼Œå®ƒè¿”å›è¿æ¥èµ·æ¥çš„å­—ç¬¦ä¸²ï¼ŒåŒ…å«äº†ä»å½“å‰èŠ‚ç‚¹å¼€å§‹çš„åºåˆ—ã€‚
3. `generateTree` å‡½æ•°ï¼š
   - è¿™ä¹Ÿæ˜¯ä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œç”¨äºæ ¹æ®è¾“å…¥æ„å»ºæ ‘ã€‚
   - å®ƒä»è¾“å…¥å­—ç¬¦ä¸² `s` çš„æœ«å°¾å¼€å§‹ï¼Œæ¯æ¬¡å¼¹å‡ºä¸€ä¸ªå­—ç¬¦ä½œä¸ºèŠ‚ç‚¹çš„åå­—ã€‚
   - å¦‚æœå­—ç¬¦ä¸æ˜¯ `'.'`ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„ `Node`ï¼Œå¹¶é€’å½’åœ°ä¸ºå…¶å·¦å³å­èŠ‚ç‚¹ (`'lr'`) è°ƒç”¨ `generateTree`ã€‚
4. è¾“å…¥å’Œè¾“å‡ºå¤„ç†ï¼š
   - ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²è¢«åè½¬å¹¶å­˜å‚¨åœ¨ `s` ä¸­ã€‚
   - è°ƒç”¨ `generateTree` å‡½æ•°ç”Ÿæˆæ ‘çš„æ ¹èŠ‚ç‚¹ã€‚
   - ç„¶åï¼Œå¾ªç¯è°ƒç”¨ `getSeq` å‡½æ•°ä¸¤æ¬¡ï¼Œåˆ†åˆ«åœ¨ä½ç½® 1 å’Œ 2 æ’å…¥æ ¹èŠ‚ç‚¹çš„åå­—ï¼Œæ‰“å°å‡ºä¸¤ç§ä¸åŒçš„åºåˆ—ã€‚



ä»£ç 

```python
class Node:
    def __init__(self, name, child):
        self.name = name
        self.child = child

def getSeq(node, pos):
    if node:
        sub = [getSeq(nd, pos) for nd in node.child]
        sub.insert(pos, node.name)
        return ''.join(sub)
    return ''

def generateTree():
    if (token := s.pop()) != '.':
        return Node(token, [generateTree() for i in 'lr'])

s = list(input())[::-1]
root = generateTree()
for i in range(1, 3):
    print(getSeq(root, i))
```



ä»£ç è¿è¡Œæˆªå›¾ ==ï¼ˆè‡³å°‘åŒ…å«æœ‰"Accepted"ï¼‰==

![image-20240423225740048](/Users/luzhuoran/Desktop/æ•°ç®—/ä½œä¸š/9/image-20240423225740048-3884261.png)



### 22067: å¿«é€Ÿå †çŒª

http://cs101.openjudge.cn/practice/22067/



æ€è·¯ï¼š

è¿™æ®µä»£ç çš„æ€è·¯æ˜¯å®ç°ä¸€ä¸ªæ”¯æŒæŸ¥è¯¢å½“å‰æœ€å°å…ƒç´ çš„æ ˆã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒå¯ä»¥å¤„ç†ä¸‰ç§æ“ä½œï¼š

1. **æ’å…¥æ“ä½œ**ï¼šå½“è¾“å…¥çš„å­—ç¬¦ä¸²ä»¥æ•°å­—ç»“å°¾æ—¶ï¼Œå®ƒä¼šå°†è¯¥æ•°å­—æ’å…¥æ ˆä¸­ã€‚å¦‚æœæ ˆä¸ºç©ºï¼Œç›´æ¥æ’å…¥è¯¥æ•°å­—ã€‚å¦åˆ™ï¼Œæ’å…¥è¯¥æ•°å­—å’Œæ ˆé¡¶å…ƒç´ ä¸­è¾ƒå°çš„ä¸€ä¸ªã€‚
2. **æœ€å°å€¼æŸ¥è¯¢**ï¼šå½“è¾“å…¥ä¸º `'min'` ä¸”æ ˆéç©ºæ—¶ï¼Œæ‰“å°æ ˆé¡¶å…ƒç´ ï¼Œå³å½“å‰æ ˆä¸­çš„æœ€å°å€¼ã€‚
3. **å¼¹å‡ºæ“ä½œ**ï¼šå½“è¾“å…¥ä¸º `'pop'` ä¸”æ ˆéç©ºæ—¶ï¼Œå¼¹å‡ºæ ˆé¡¶å…ƒç´ ã€‚

è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…æŸ¥è¯¢åˆ°æ ˆä¸­çš„æœ€å°å…ƒç´ ã€‚è¿™æ˜¯å› ä¸ºæ¯æ¬¡æ’å…¥æ“ä½œæ—¶ï¼Œæ ˆä¸­éƒ½ä¼šä¿å­˜ä¸€ä¸ªå½“å‰çš„æœ€å°å€¼ã€‚å½“è¿›è¡Œå¼¹å‡ºæ“ä½œæ—¶ï¼Œç”±äºæ¯ä¸ªå…ƒç´ éƒ½ä¸ä¸€ä¸ªæœ€å°å€¼ç›¸å…³è”ï¼Œæ‰€ä»¥å¯ä»¥ä¿æŒæœ€å°å€¼çš„æ­£ç¡®æ€§ã€‚

ä»£ç 

```python
minpig = []
while True:
    try:
        s = input()
    except EOFError:
        break
    if s == 'min' and minpig:
        print(minpig[-1])
    elif s == 'pop' and minpig:
        minpig.pop()
    elif s[-1].isdigit():
        p = int(s.split()[1])
        if not minpig:
            minpig.append(p)
        minpig.append(min(minpig[-1], p))
```



ä»£ç è¿è¡Œæˆªå›¾ ==ï¼ˆACä»£ç æˆªå›¾ï¼Œè‡³å°‘åŒ…å«æœ‰"Accepted"ï¼‰==

![image-20240423230122176](/Users/luzhuoran/Desktop/æ•°ç®—/ä½œä¸š/9/image-20240423230122176-3884483.png)



### 04123: é©¬èµ°æ—¥

dfs, http://cs101.openjudge.cn/practice/04123



æ€è·¯ï¼š

1. é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸º `direc` çš„åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«äº†æ‰€æœ‰å¯èƒ½çš„ç§»åŠ¨æ–¹å‘ã€‚
2. ç„¶åï¼Œæˆ‘ä»¬è¿›å…¥å¾ªç¯ï¼Œæ ¹æ®ç”¨æˆ·è¾“å…¥çš„æ•´æ•°æ‰§è¡Œå¤šæ¬¡æ“ä½œã€‚
3. åœ¨æ¯æ¬¡å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬è¯»å–å››ä¸ªæ•´æ•°ï¼š`n`ã€`m`ã€`x` å’Œ `y`ã€‚è¿™äº›æ•´æ•°è¡¨ç¤ºä¸€ä¸ª `n Ã— m` çš„ç½‘æ ¼ï¼Œä»¥åŠèµ·å§‹ä½ç½® `(x, y)`ã€‚
4. æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª `n Ã— m` çš„äºŒç»´åˆ—è¡¨ `graph`ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ åˆå§‹åŒ–ä¸º `1`ï¼Œè¡¨ç¤ºèŠ‚ç‚¹å¯è®¿é—®ã€‚
5. åˆå§‹åŒ–ä¸€ä¸ªå˜é‡ `ans` ä¸º `0`ï¼Œç”¨äºè®°å½•æ»¡è¶³æ¡ä»¶çš„è·¯å¾„æ•°é‡ã€‚
6. å®šä¹‰é€’å½’å‡½æ•° `dfs`ï¼Œéå†ç›¸é‚»èŠ‚ç‚¹å¹¶æ›´æ–°å·²è®¿é—®çš„èŠ‚ç‚¹æ•°é‡ã€‚
7. åœ¨èµ·å§‹ä½ç½® `(x, y)` è°ƒç”¨ `dfs` å‡½æ•°ï¼Œå¹¶æ‰“å°å‡º `ans` çš„å€¼ã€‚



ä»£ç 

```python
direc = [(j*i, k*(3-i)) for i in [1,2] for j in [-1,1] for k in [-1,1]]
for o in range(int(input())):
    n, m, x, y = map(int, input().split())
    graph = [[1]*m for i in range(n)]
    ans = 0
    def dfs(x, y, num):
        graph[x][y] = 0
        if num == n*m:
            global ans
            ans += 1
            return
        for dx, dy in direc:
            if 0<=x+dx<n and 0<=y+dy<m and graph[x+dx][y+dy]:
                dfs(x+dx, y+dy, num+1)
                graph[x+dx][y+dy] = 1
    dfs(x, y, 1)
    print(ans)
```



ä»£ç è¿è¡Œæˆªå›¾ ==ï¼ˆACä»£ç æˆªå›¾ï¼Œè‡³å°‘åŒ…å«æœ‰"Accepted"ï¼‰==

![image-20240423230244990](/Users/luzhuoran/Desktop/æ•°ç®—/ä½œä¸š/9/image-20240423230244990-3884566.png)



### 28046: è¯æ¢¯

bfs, http://cs101.openjudge.cn/practice/28046/



æ€è·¯ï¼šå‚è€ƒé¢˜è§£ï¼Œå­¦ä¹ äº†ç”¨ğŸª£è¾…åŠ©å»ºç«‹å›¾çš„æ€è·¯ã€‚![image-20240417165439600](/Users/luzhuoran/Desktop/æ•°ç®—/ä½œä¸š/9/image-20240417165439600.png)



ä»£ç 

```python
from collections import defaultdict, deque
from itertools import permutations

bucket = defaultdict(list)
for o in range(int(input())):
    word = input()
    for i in range(4):
        label = list(word)
        label[i] = '_'
        bucket[''.join(label)].append(word)
graph = defaultdict(list)
for words in bucket.values():
    for a, b in permutations(words, 2):
        graph[a].append(b)
start, end = input().split()
q = deque([start])
pre = dict()
used = set(q)
def bfs():
    while q:
        word = q.popleft()
        for nex in graph[word]:
            if nex not in used:
                used.add(nex)
                pre[nex] = word
                if nex == end:
                    return True
                q.append(nex)
res = bfs()
if res:
    ans = [end]
    while ans[-1] in pre:
        ans.append(pre[ans[-1]])
    print(*ans[::-1])
else:
    print('NO')
```



ä»£ç è¿è¡Œæˆªå›¾ ==ï¼ˆACä»£ç æˆªå›¾ï¼Œè‡³å°‘åŒ…å«æœ‰"Accepted"ï¼‰==

![image-20240423230534526](/Users/luzhuoran/Desktop/æ•°ç®—/ä½œä¸š/9/image-20240423230534526-3884735.png)



### 28050: éª‘å£«å‘¨æ¸¸

dfs, http://cs101.openjudge.cn/practice/28050/



æ€è·¯ï¼š

**Warnsdorffâ€™s Rule**ï¼ˆä¹Ÿç§°ä¸º**Warnsdorffä¼˜åŒ–**ï¼‰æ˜¯è§£å†³**éª‘å£«å·¡æ¸¸é—®é¢˜**çš„ä¸€ç§å¯å‘å¼ç®—æ³•ã€‚

- **Warnsdorffâ€™s Rule**ï¼š
  - æˆ‘ä»¬å¯ä»¥ä»æ£‹ç›˜ä¸Šçš„ä»»æ„åˆå§‹ä½ç½®å¼€å§‹ã€‚
  - æ¯æ¬¡ç§»åŠ¨ï¼Œæˆ‘ä»¬æ€»æ˜¯é€‰æ‹©ä¸€ä¸ªç›¸é‚»ä¸”æœªè®¿é—®è¿‡çš„æ–¹æ ¼ï¼Œè¯¥æ–¹æ ¼å…·æœ‰æœ€å°çš„å¯è®¿é—®é‚»å±…æ•°ï¼ˆå³æœ€å°‘çš„æœªè®¿é—®ç›¸é‚»æ–¹æ ¼ï¼‰ã€‚
  - è¿™æ ·ï¼Œæˆ‘ä»¬é€šè¿‡è´ªå¿ƒåœ°é€‰æ‹©æœ€ä¼˜çš„ä¸‹ä¸€æ­¥ï¼Œå¸Œæœ›èƒ½å¤Ÿæ›´å¿«åœ°æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚
- **ç®—æ³•æ­¥éª¤**ï¼š
  1. éšæœºé€‰æ‹©ä¸€ä¸ªåˆå§‹ä½ç½®ï¼Œå¹¶åœ¨è¯¥ä½ç½®æ ‡è®°ä¸ºç¬¬ä¸€æ­¥ã€‚
  2. ä»ç¬¬äºŒæ­¥å¼€å§‹ï¼Œæ ¹æ® Warnsdorffâ€™s Ruleï¼Œé€‰æ‹©ä¸‹ä¸€æ­¥çš„ä½ç½®ã€‚
  3. é‡å¤æ­¥éª¤ 2ï¼Œç›´åˆ°è®¿é—®äº†æ‰€æœ‰æ–¹æ ¼ã€‚
  4. è¿”å›æ ‡è®°å¥½çš„æ£‹ç›˜ï¼Œæ¯ä¸ªæ–¹æ ¼ä¸Šæ ‡è®°äº†éª‘å£«è®¿é—®çš„æ­¥æ•°ã€‚
- **åº”ç”¨**ï¼š
  - Warnsdorffâ€™s Rule å¯ä»¥ç”¨äºè§£å†³éª‘å£«å·¡æ¸¸é—®é¢˜ï¼Œå°¤å…¶åœ¨è¾ƒå°çš„æ£‹ç›˜ä¸Šæ•ˆæœæ˜¾è‘—ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥åœ¨ 1 ç§’å†…è§£å†³ 64Ã—64 çš„å·¡æ¸¸æˆ– 16Ã—16 çš„å‘¨æ¸¸é—®é¢˜ã€‚
  - ç„¶è€Œï¼Œå¯¹äºæ›´å¤§çš„æ£‹ç›˜ï¼ˆä¾‹å¦‚ 24Ã—24ï¼‰ï¼Œè¯¥ç®—æ³•çš„æ€§èƒ½å¯èƒ½ä¼šå—åˆ°é™åˆ¶ã€‚

ä»£ç 

```python
def getNeighbor(pos):
    x, y = pos
    return [(x+dx, y+dy) for dx, dy in direc if 0<=x+dx<n and 0<=y+dy<n and graph[x+dx][y+dy]]

def dfs(x, y, num):
    graph[x][y] = 0
    if num == n*n:
        return True
    for x2, y2 in sorted(getNeighbor((x, y)), key=lambda p:len(getNeighbor(p))):
        if graph[x2][y2]:
            if dfs(x2, y2, num+1):
                return True
            graph[x2][y2] = 1
'åœ¨è¿™é‡Œï¼ŒgetNeighbor å‡½æ•°é¦–å…ˆè·å–å½“å‰ä½ç½® (x, y) çš„æ‰€æœ‰åˆæ³•é‚»å±…ä½ç½®ã€‚ç„¶åï¼Œä½¿ç”¨ sorted å‡½æ•°å’Œä¸€ä¸ª lambda å‡½æ•°ä½œä¸ºæ’åºçš„é”®ï¼ˆkeyï¼‰ï¼Œæ ¹æ®æ¯ä¸ªé‚»å±…ä½ç½®çš„å¯è®¿é—®é‚»å±…æ•°ï¼ˆå³æœªè®¿é—®çš„ç›¸é‚»æ–¹æ ¼æ•°ï¼‰æ¥å¯¹å®ƒä»¬è¿›è¡Œæ’åºã€‚è¿™æ ·ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šé€‰æ‹©å…·æœ‰æœ€å°‘æœªè®¿é—®é‚»å±…æ•°çš„ä½ç½®ä½œä¸ºä¸‹ä¸€æ­¥ç§»åŠ¨ï¼Œè¿™æ­£æ˜¯ Warnsdorffâ€™s Rule çš„æ ¸å¿ƒæ€æƒ³'
n = int(input())
x, y = map(int, input().split())
direc = [(j*i, k*(3-i)) for i in [1,2] for j in [-1,1] for k in [-1,1]]
graph = [[1]*n for i in range(n)]
ans = 0
print('success' if dfs(x, y, 1) else 'fail')
```



ä»£ç è¿è¡Œæˆªå›¾ ==ï¼ˆACä»£ç æˆªå›¾ï¼Œè‡³å°‘åŒ…å«æœ‰"Accepted"ï¼‰==

![image-20240423230739496](/Users/luzhuoran/Desktop/æ•°ç®—/ä½œä¸š/9/image-20240423230739496-3884860.png)



## 2. å­¦ä¹ æ€»ç»“å’Œæ”¶è·

==å¦‚æœä½œä¸šé¢˜ç›®ç®€å•ï¼Œæœ‰å¦é¢å¤–ç»ƒä¹ é¢˜ç›®ï¼Œæ¯”å¦‚ï¼šOJâ€œ2024springæ¯æ—¥é€‰åšâ€ã€CFã€LeetCodeã€æ´›è°·ç­‰ç½‘ç«™é¢˜ç›®ã€‚==

å›¾çš„é—®é¢˜ä¹Ÿä¸æ˜¯å…¸å‹çš„æ¨¡æ¿ï¼Œå®ƒæ¶‰åŠåˆ°ä¸€äº›é¢å¤–çš„ä¼˜åŒ–æŠ€å·§ã€‚ä¾‹å¦‚ï¼Œåœ¨è¯æ¢¯é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ¡¶æ¥é¢„å¤„ç†æ•°æ®ï¼›è€Œåœ¨éª‘å£«å‘¨æ¸¸é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥æ’åºå¹¶è°ƒæ•´æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰çš„é¡ºåºã€‚è¿›é˜¶ç®—æ³•ï¼



